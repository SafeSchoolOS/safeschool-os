# SafeSchool OS — Edge Mini PC Configuration
# Copy to .env and configure. Secrets are auto-generated by setup.sh.

# ============================================================================
# Database & Security (auto-generated by setup.sh)
# ============================================================================
DB_PASSWORD=changeme_generate_random
JWT_SECRET=changeme_generate_random

# ============================================================================
# Site Identity
# ============================================================================
SITE_ID=
SITE_NAME=
OPERATING_MODE=edge

# ============================================================================
# Cloud Sync
# ============================================================================
CLOUD_SYNC_URL=https://api-production-5f06.up.railway.app
CLOUD_SYNC_KEY=
# TLS certificate pinning — SHA-256 fingerprint of the cloud server certificate.
# Prevents MITM attacks on the sync channel. Get with:
#   openssl s_client -connect api-production-5f06.up.railway.app:443 < /dev/null 2>/dev/null | \
#     openssl x509 -fingerprint -sha256 -noout
CLOUD_TLS_FINGERPRINT=

# ============================================================================
# Authentication
# ============================================================================
AUTH_PROVIDER=dev

# ============================================================================
# 911 Dispatch (console | rapidsos | rave-911 | sip-direct | cellular)
# ============================================================================
DISPATCH_ADAPTER=console
RAPIDSOS_CLIENT_ID=
RAPIDSOS_CLIENT_SECRET=
RAVE_API_KEY=
RAVE_ORGANIZATION_ID=
SIP_TRUNK_HOST=
SIP_LOCAL_DOMAIN=
CELLULAR_DEVICE_PATH=

# ============================================================================
# Access Control (mock | sicunet | genetec | brivo | verkada | lenel | openpath | hid-mercury | allegion | assa-abloy)
# ============================================================================
ACCESS_CONTROL_ADAPTER=mock
AC_API_URL=
AC_API_KEY=

# ============================================================================
# Notifications (console | twilio | sendgrid | fcm | pa-intercom)
# ============================================================================
NOTIFICATION_ADAPTER=console
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=
FCM_SERVICE_ACCOUNT_KEY=

# ============================================================================
# Visitor Screening
# ============================================================================
VISITOR_SCREENING_ADAPTER=console

# ============================================================================
# Transportation
# ============================================================================
TRANSPORT_TRACKING_ENABLED=false

# ============================================================================
# Monitoring
# ============================================================================
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# Auto-Update (Watchtower)
# ============================================================================
WATCHTOWER_POLL_INTERVAL=3600
WATCHTOWER_CLEANUP=true
